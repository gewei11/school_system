<view class="container">
  <!-- æ–‡ç« è¯¦æƒ… -->
  <view class="post-detail">
    <view class="post-header">
      <image class="avatar" src="{{post.avatar}}" />
      <view class="header-info">
        <text class="username">{{post.username}}</text>
        <text class="timestamp">\n{{post.createdAt}}</text>
      </view>
    </view>
    <view class="post-content">
      <text>{{post.content}}</text>
    </view>
    <view class="post-stats">
      <text>{{post.comments.length}} è¯„è®º | {{post.views}} æµè§ˆ</text>
    </view>
    <view class="post-images">
      <block wx:for="{{post.images}}" wx:key="index">
        <image class="post-image" src="{{item}}" />
      </block>
    </view>
    <!-- ç‚¹èµåŠŸèƒ½ -->
    <view class="post-likes">
      <button class="like-button" bindtap="toggleLike">{{post.liked ? 'å–æ¶ˆç‚¹èµ' : 'ç‚¹èµ'}}</button>
      <text class="like-count">{{post.likes}} äººå–œæ¬¢</text>
    </view>
  </view>

  <!-- è¯„è®ºåŒº -->
  <view class="comments-section">
    <text class="section-title">ç”¨æˆ·è¯„è®º</text>
    <block wx:for="{{comments}}" wx:key="index">
      <view class="comment-item">
        <image class="comment-avatar" src="{{item.avatar}}" />
        <view class="comment-info">
          <text class="comment-username">{{item.username}}</text>
          <text class="comment-content">{{item.comment}}</text>
          <text class="comment-time">{{item.time}}</text>
        </view>
        <!-- å¤§æ‹‡æŒ‡ç‚¹èµæŒ‰é’® -->
        <view class="like-thumb">
          <button class="thumb-button" bindtap="likeComment" data-index="{{index}}">
            ğŸ‘
          </button>
          <text class="thumb-count">{{item.likes}} äººç‚¹èµ</text>
        </view>
      </view>
    </block>
    <view wx:if="{{comments.length === 0}}" class="no-comments">
      <text>æš‚æ— è¯„è®º</text>
    </view>
  </view>

  <!-- æ·»åŠ è¯„è®ºæ–‡æœ¬æ¡† -->
  <view class="add-comment">
    <textarea class="comment-input" placeholder="å†™ä¸‹ä½ çš„è¯„è®º..." bindinput="onCommentInput" value="{{newComment}}" />
    <button class="comment-submit" bindtap="submitComment">æäº¤è¯„è®º</button>
  </view>
</view>
